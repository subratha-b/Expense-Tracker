{% extends "base.html" %}

{% block content %}
<h2>Manage Budgets</h2>

<form method="POST" class="budget-form">
    <div class="form-group">
        <label for="category">Category</label>
        <select name="category" id="category" required>
            <option value="Food">Food</option>
            <option value="Transport">Transport</option>
            <option value="Utilities">Utilities</option>
            <option value="Entertainment">Entertainment</option>
            <option value="Health">Health</option>
            <option value="Others">Others</option>
        </select>
    </div>

    <div class="form-group">
        <label for="amount">Budget Amount</label>
        <input type="number" name="amount" id="amount" step="0.01" min="0" required>
    </div>

    <div class="form-group">
        <label for="month">Month (1-12)</label>
        <input type="number" name="month" id="month" min="1" max="12" required>
    </div>

    <div class="form-group">
        <label for="year">Year</label>
        <input type="number" name="year" id="year" value="{{ current_year }}" required>
    </div>

    <div class="form-group">
        <label for="alert_threshold">Alert Threshold (%)</label>
        <input type="number" name="alert_threshold" id="alert_threshold" step="0.01" min="0" max="100" required>
    </div>

    <button type="submit" class="button">Save Budget</button>
</form>

<h3>Existing Budgets</h3>
<ul class="budget-list">
    {% for budget in budgets %}
        <li>
            {{ budget.category }} - â‚¹{{ budget.amount }} ({{ budget.month }}/{{ budget.year }}) - Alert at {{ budget.alert_threshold }}%
        </li>
    {% else %}
        <li>No budgets found.</li>
    {% endfor %}
</ul>
{% endblock %}
